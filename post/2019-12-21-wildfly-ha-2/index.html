<!DOCTYPE html>
<html lang="en-us"><head>
  
    
      






<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Building a Mission-Critical Open Source Environment for the Java Platform - Chapter II | Cognition</title>
<meta name="title" content="Building a Mission-Critical Open Source Environment for the Java Platform - Chapter II | Cognition" />
<meta name="description" content="In Chapter I, we set up the high availability of the Web layer. In this chapter we will install WildFly and configure the Master/Subordinate topology."> 


<link rel="canonical" href="https://cognitionsh.github.io/post/2019-12-21-wildfly-ha-2/" />


  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="" /> 
  <meta name="twitter:title" content="Building a Mission-Critical Open Source Environment for the Java Platform - Chapter II | Cognition" />
  <meta name="twitter:url" content="https://cognitionsh.github.io/post/2019-12-21-wildfly-ha-2/" />
  <meta name="twitter:site" content="@Softorage" /> 
  <meta name="twitter:creator" content="@Softorage" /> 
   



  
  <meta property="og:title" content="Building a Mission-Critical Open Source Environment for the Java Platform - Chapter II | Cognition" />
  <meta property="og:description" content="" /> 
  <meta property="og:site_name" content="Cognition" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://cognitionsh.github.io/post/2019-12-21-wildfly-ha-2/" />
  
   






  
  
  <script type="application/ld+json">
      { 
          "@context": "http://schema.org", 
          "@type": "BlogPosting",
          "headline": "Building a Mission-Critical Open Source Environment for the Java Platform - Chapter II",
          
          "url": "https://cognitionsh.github.io",
          
          
          "description": ,
          
          
          "publisher": {
            "@type": "Organization",
            "name": "Mauricio Magnani",
            "logo": {
              "@type": "ImageObject",
              "url": ""
            }
          },
          
          "sameAs" : [
            
            
              "https://github.com/cognitionsh"
            ]
          
        }
      </script>
  


    
    <meta name="generator" content="Hugo 0.80.0" />
  
  
  
  
  
  <link rel="stylesheet" href="/assets/css/main.min.5850e0d237d48db557dccb91349399dcb8ddfc839c5d757ef83da4cc45fca5ff.css" integrity="sha256-WFDg0jfUjbVX3MuRNJOZ3Ljd/IOcXXV&#43;&#43;D2kzEX8pf8=" crossorigin="anonymous">
  
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  
  <link rel=apple-touch-icon sizes=180x180 href=https://cognitionsh.github.io/assets/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://cognitionsh.github.io/assets/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://cognitionsh.github.io/assets/favicon/favicon-16x16.png><link rel=manifest href=https://cognitionsh.github.io/assets/favicon/site.webmanifest><link rel=mask-icon href=https://cognitionsh.github.io/assets/favicon/safari-pinned-tab.svg color=#7817c4><link rel=icon href=https://cognitionsh.github.io/assets/favicon/favicon.ico type=image/x-icon><link rel="shortcut icon" href=https://cognitionsh.github.io/assets/favicon/favicon.ico type=image/x-icon><meta name=apple-mobile-web-app-title content="Vibrant Shadows Theme"><meta name=application-name content="Vibrant Shadows Theme"><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff">
  
  
  
  <meta name="theme-color" content="#fff6f8">
  
  <meta name="msapplication-navbutton-color" content="#fff6f8">
  
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  
</head>
<body><header>
  <nav class="navbar navbar-expand-lg navbar-light fixed-top flex-column">
    <div class="container-fluid">
      
      <a class="navbar-brand rounded px-3" href="https://cognitionsh.github.io"><span class="text-nav"><span class="brand">&nbsp;&nbsp;&nbsp;Cognition</span></span></a>
      
      
    </div>
    
  </nav>
</header>
<div id="content">
<div class="container-fluid bg-clr1 text-light text-center pb-3 pt-4 position-relative shadow">
  <div style="height:3.5rem;"></div>
  <h1>Building a Mission-Critical Open Source Environment for the Java Platform - Chapter II</h1>
  <p class="description"></p>
</div>
<div class="container-fluid bg-nav p-4">
  <div class="row">
    <div class="col-md-3">
      
      <div class="bg-mat p-4 rounded" style="overflow-x: auto;">
        <div class="h4 mb-3">
        Contents
        </div>
        <nav id="TableOfContents">
  <ol>
    <li><a href="#install-wildfly-20">Install Wildfly 20</a></li>
    <li><a href="#configuring-the-mastersubordinate-architecture">Configuring the Master/Subordinate Architecture</a></li>
  </ol>
</nav>
      </div>
      
    </div>
    <div class="col-md-9">
        
      
      <div class="py-1">
        <div class="row">
          <div class="col-md-7 small text-muted post-meta my-1">
            
            
              
                
              
            
              
            
              
                
              
            
              
            By Mauricio Magnani &#183; 12 min read</div>
          
          
          
          <div class="col-md-auto ml-3 my-1">
            <div class="row">
              <div class="col-auto p-0">
              Share on:&nbsp;&nbsp;
              </div>
              <div class="col p-0">
                <span class="lead">
                  
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f&quote=Building%20a%20Mission-Critical%20Open%20Source%20Environment%20for%20the%20Java%20Platform%20-%20Chapter%20II" rel="noreferrer nofollow" target="_blank" title="Share on Facebook" aria-label="Share on Facebook"><span class="fab fa-facebook"></span></a>&nbsp;&nbsp;
                  
                  
                    <a href="https://twitter.com/intent/tweet?source=https%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f&text=Building%20a%20Mission-Critical%20Open%20Source%20Environment%20for%20the%20Java%20Platform%20-%20Chapter%20II:%0Ahttps%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f" rel="noreferrer nofollow" target="_blank" title="Share on Twitter" aria-label="Share on Twitter"><span class="fab fa-twitter"></span></a>&nbsp;&nbsp;
                  
                  
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f&title=Building%20a%20Mission-Critical%20Open%20Source%20Environment%20for%20the%20Java%20Platform%20-%20Chapter%20II&summary=&source=Cognition" rel="noreferrer nofollow" target="_blank" title="Share on LinkedIn" aria-label="Share on LinkedIn"><span class="fab fa-linkedin"></span></a>&nbsp;&nbsp;
                  
                  
                    <a href="https://t.me/share/url?url=https%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f&text=Building%20a%20Mission-Critical%20Open%20Source%20Environment%20for%20the%20Java%20Platform%20-%20Chapter%20II" rel="noreferrer nofollow" target="_blank" title="Share on Telegram" aria-label="Share on Telegram"><span class="fab fa-telegram"></span></a>&nbsp;&nbsp;
                  
                  
                    <a href="whatsapp://send?text=https%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f%0A%0ABuilding%20a%20Mission-Critical%20Open%20Source%20Environment%20for%20the%20Java%20Platform%20-%20Chapter%20II" data-text="Building a Mission-Critical Open Source Environment for the Java Platform - Chapter II" data-href="https://cognitionsh.github.io/post/2019-12-21-wildfly-ha-2/" rel="noreferrer nofollow" target="_blank" title="Share on Whatsapp" aria-label="Share on Whatsapp"><span class="fab fa-whatsapp"></span></a>&nbsp;&nbsp;
                  
                  
                    <a href="https://reddit.com/submit?url=https%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f&title=Building%20a%20Mission-Critical%20Open%20Source%20Environment%20for%20the%20Java%20Platform%20-%20Chapter%20II" rel="noreferrer nofollow" target="_blank" title="Share on Reddit" aria-label="Share on Reddit"><span class="fab fa-reddit"></span></a>&nbsp;&nbsp;
                  
                  
                    <a href="mailto:?subject=Building%20a%20Mission-Critical%20Open%20Source%20Environment%20for%20the%20Java%20Platform%20-%20Chapter%20II&body=%0A%0Ahttps%3a%2f%2fcognitionsh.github.io%2fpost%2f2019-12-21-wildfly-ha-2%2f" target="_blank" title="Share via email" aria-label="Share via email"><span class="fas fa-envelope"></span></a>
                  
                </span>
              </div>
            </div>
          </div>
          
        </div>
        
        
        
      </div>
      
      
      <div class="py-3 my-2">
      <p>In Chapter I, we set up the high availability of the Web layer. In this chapter we will install WildFly and configure the Master/Subordinate topology.</p>
<h2 id="install-wildfly-20">Install Wildfly 20</h2>
<p>Let&rsquo;s start building the application layer of our environment.These settings will be performed on the following servers:</p>
<ul>
<li>server-domain.mmagnani.lab - 10.0.0.193</li>
<li>server-subordinate-0.mmagnani.lab -10.0.0.194</li>
<li>server-subordinate-1.mmagnani.lab - 10.0.0.195</li>
</ul>
<p>Let&rsquo;s start with the server that will be the &ldquo;Master&rdquo;:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat /etc/redhat-release </span>
CentOS Linux release 8.2.2004 <span style="color:#f92672">(</span>Core<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl stop firewalld</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl disable firewalld</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># setenforce 0</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># sed -i &#34;s/^SELINUX=enforcing/SELINUX=disabled/g&#34; /etc/selinux/config</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># dnf install java-11-openjdk-devel.x86_64 vim wget unzip telnet -y</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># mkdir -p /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># wget https://download.jboss.org/wildfly/20.0.0.Final/wildfly-20.0.0.Final.zip -P /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># unzip wildfly-20.0.0.Final.zip</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># useradd -p `openssl passwd -1 wildfly` wildfly</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># usermod -aG wildfly wildfly</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># chown -R wildfly:wildfly /usr/local/wildfly/wildfly-20.0.0.Final</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># vi /etc/systemd/system/wildfly.service</span>

Description<span style="color:#f92672">=</span>WildFly 20.0.0
After<span style="color:#f92672">=</span>syslog.target network.target

<span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
Type<span style="color:#f92672">=</span>simple
ExecStart<span style="color:#f92672">=</span>/usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.sh

<span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
WantedBy<span style="color:#f92672">=</span>multi-user.target

<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl enable wildfly</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># reboot</span>
</code></pre></div><p>Check that the WildFly process has gone up correctly:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># jps -m</span>
<span style="color:#ae81ff">1571</span> jboss-modules.jar -mp /usr/local/wildfly/wildfly-20.0.0.Final/modules 
<span style="color:#75715e">##supressed</span>
</code></pre></div><p>Now let&rsquo;s set up &ldquo;Subordinate 0&rdquo;:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat /etc/redhat-release </span>
CentOS Linux release 8.2.2004 <span style="color:#f92672">(</span>Core<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl stop firewalld</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl disable firewalld</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># setenforce 0</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># sed -i &#34;s/^SELINUX=enforcing/SELINUX=disabled/g&#34; /etc/selinux/config</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># dnf install java-11-openjdk-devel.x86_64 vim wget unzip telnet -y</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># mkdir -p /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># wget https://download.jboss.org/wildfly/20.0.0.Final/wildfly-20.0.0.Final.zip -P /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># unzip wildfly-20.0.0.Final.zip</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># useradd -p `openssl passwd -1 wildfly` wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># usermod -aG wildfly wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># chown -R wildfly:wildfly /usr/local/wildfly/wildfly-20.0.0.Final</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># vi /etc/systemd/system/wildfly.service</span>

Description<span style="color:#f92672">=</span>WildFly 20.0.0
After<span style="color:#f92672">=</span>syslog.target network.target

<span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
Type<span style="color:#f92672">=</span>simple
ExecStart<span style="color:#f92672">=</span>/usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.sh

<span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
WantedBy<span style="color:#f92672">=</span>multi-user.target

<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl enable wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># reboot</span>
</code></pre></div><p>Check that the WildFly process has gone up correctly:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># jps -m</span>
<span style="color:#ae81ff">1968</span> jboss-modules.jar -mp /usr/local/wildfly/wildfly-20.0.0.Final/modules
<span style="color:#75715e">##supressed</span>
</code></pre></div><p>And now let&rsquo;s set up &ldquo;Subordinate 1&rdquo;:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat /etc/redhat-release </span>
CentOS Linux release 8.2.2004 <span style="color:#f92672">(</span>Core<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl stop firewalld</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl disable firewalld</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># setenforce 0</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># sed -i &#34;s/^SELINUX=enforcing/SELINUX=disabled/g&#34; /etc/selinux/config</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># dnf install java-11-openjdk-devel.x86_64 vim wget unzip telnet -y</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># mkdir -p /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># wget https://download.jboss.org/wildfly/20.0.0.Final/wildfly-20.0.0.Final.zip -P /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd /usr/local/wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># unzip wildfly-20.0.0.Final.zip</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># useradd -p `openssl passwd -1 wildfly` wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># usermod -aG wildfly wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># chown -R wildfly:wildfly /usr/local/wildfly/wildfly-20.0.0.Final</span>
<span style="color:#f92672">[</span>root@server-domain wildfly<span style="color:#f92672">]</span><span style="color:#75715e"># vi /etc/systemd/system/wildfly.service</span>

Description<span style="color:#f92672">=</span>WildFly 20.0.0
After<span style="color:#f92672">=</span>syslog.target network.target

<span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
Type<span style="color:#f92672">=</span>simple
ExecStart<span style="color:#f92672">=</span>/usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.sh

<span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
WantedBy<span style="color:#f92672">=</span>multi-user.target

<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl enable wildfly</span>
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># reboot</span>
</code></pre></div><p>Check that the WildFly process has gone up correctly:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># jps -m</span>
<span style="color:#ae81ff">1948</span> jboss-modules.jar -mp /usr/local/wildfly/wildfly-20.0.0.Final/modules
<span style="color:#75715e">##supressed</span>
</code></pre></div><p>It is! Finally we have Wildfly running in Domain Mode on all three servers.</p>
<h2 id="configuring-the-mastersubordinate-architecture">Configuring the Master/Subordinate Architecture</h2>
<p>This part of the setup will need a little more hard work because requires attention to detail but don&rsquo;t worry, let&rsquo;s go step by step.</p>
<p>The first step is to set the variables correctly so WildFly can understand where our settings are and what we want to do with them.</p>
<p>Edit the <code>domain.conf</code> file and add the binding settings for the <code>JAVA_OPTS</code> variable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">##around line 50</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim /usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.conf</span>

<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;x</span>$JAVA_OPTS<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-Xms64m -Xmx512m -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true&#34;</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.modules.system.pkgs=</span>$JBOSS_MODULES_SYSTEM_PKGS<span style="color:#e6db74"> -Djava.awt.headless=true&#34;</span>
   
   <span style="color:#75715e">#Add this line</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.bind.address.management=10.0.0.193 -Djboss.bind.address=10.0.0.193&#34;</span>
<span style="color:#66d9ef">else</span>
<span style="color:#75715e">##supressed</span>
</code></pre></div><p>Restart wildfly service and open the server URL and note that WildFly is running and accessible: http://10.0.0.193:8080</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl restart wildfly</span>
</code></pre></div><p><img src="/static/201912-hawildfly-06.png" alt=""></p>
<p>The next step is to create/update a management user and a directory for the domain to starting the configuration of WildFly server topology.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd /usr/local/wildfly/wildfly-20.0.0.Final/bin</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># ./add-user.sh </span>

What type of user <span style="color:#66d9ef">do</span> you wish to add? 
 a<span style="color:#f92672">)</span> Management User <span style="color:#f92672">(</span>mgmt-users.properties<span style="color:#f92672">)</span> 
 b<span style="color:#f92672">)</span> Application User <span style="color:#f92672">(</span>application-users.properties<span style="color:#f92672">)</span>
<span style="color:#f92672">(</span>a<span style="color:#f92672">)</span>: a

Enter the details of the new user to add.
Using realm <span style="color:#e6db74">&#39;ManagementRealm&#39;</span> as discovered from the existing property files.
Username : admin
User <span style="color:#e6db74">&#39;admin&#39;</span> already exists and is disabled, would you like to... 
 a<span style="color:#f92672">)</span> Update the existing user password and roles 
 b<span style="color:#f92672">)</span> Enable the existing user 
 c<span style="color:#f92672">)</span> Type a new username
<span style="color:#f92672">(</span>a<span style="color:#f92672">)</span>: a
Password recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.
 - The password should be different from the username
 - The password should not be one of the following restricted values <span style="color:#f92672">{</span>root, admin, administrator<span style="color:#f92672">}</span>
 - The password should contain at least <span style="color:#ae81ff">8</span> characters, <span style="color:#ae81ff">1</span> alphabetic character<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>, <span style="color:#ae81ff">1</span> digit<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>, <span style="color:#ae81ff">1</span> non-alphanumeric symbol<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
Password : Redhat*#2
Re-enter Password : Redhat*#2
What groups <span style="color:#66d9ef">do</span> you want this user to belong to? <span style="color:#f92672">(</span>Please enter a comma separated list, or leave blank <span style="color:#66d9ef">for</span> none<span style="color:#f92672">)[</span>  <span style="color:#f92672">]</span>: 
Updated user <span style="color:#e6db74">&#39;admin&#39;</span> to file <span style="color:#e6db74">&#39;/usr/local/wildfly/wildfly-20.0.0.Final/standalone/configuration/mgmt-users.properties&#39;</span>
Updated user <span style="color:#e6db74">&#39;admin&#39;</span> to file <span style="color:#e6db74">&#39;/usr/local/wildfly/wildfly-20.0.0.Final/domain/configuration/mgmt-users.properties&#39;</span>
Updated user <span style="color:#e6db74">&#39;admin&#39;</span> with groups  to file <span style="color:#e6db74">&#39;/usr/local/wildfly/wildfly-20.0.0.Final/standalone/configuration/mgmt-groups.properties&#39;</span>
Updated user <span style="color:#e6db74">&#39;admin&#39;</span> with groups  to file <span style="color:#e6db74">&#39;/usr/local/wildfly/wildfly-20.0.0.Final/domain/configuration/mgmt-groups.properties&#39;</span>
Is this new user going to be used <span style="color:#66d9ef">for</span> one AS process to connect to another AS process? 
e.g. <span style="color:#66d9ef">for</span> a slave host controller connecting to the master or <span style="color:#66d9ef">for</span> a Remoting connection <span style="color:#66d9ef">for</span> server to server EJB calls.
yes/no? yes
To represent the user add the following to the server-identities definition &lt;secret value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UmVkaGF0KiMy&#34;</span> /&gt;
</code></pre></div><p>Take note of the  <secret value="UmVkaGF0KiMy" />, this will be used to configure the Subordinate connection.</p>
<p>Now create a new directory called &ldquo;master&rdquo; based on the &ldquo;domain&rdquo; directory.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/usr/local/wildfly/wildfly-20.0.0.Final
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># cp -Rap domain master</span>
</code></pre></div><p>Edit again the <code>domain.conf</code> file and add the configuration dir settings for the <code>JAVA_OPTS</code> variable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">##around line 50</span>
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim /usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.conf</span>

<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;x</span>$JAVA_OPTS<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-Xms64m -Xmx512m -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true&#34;</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.modules.system.pkgs=</span>$JBOSS_MODULES_SYSTEM_PKGS<span style="color:#e6db74"> -Djava.awt.headless=true&#34;</span>
   
   <span style="color:#75715e">#Edit this line</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.bind.address.management=10.0.0.193 -Djboss.bind.address=10.0.0.193 -Djboss.domain.base.dir=/usr/local/wildfly/wildfly-20.0.0.Final/master&#34;</span>
<span style="color:#66d9ef">else</span>
<span style="color:#75715e">##supressed</span>
</code></pre></div><p>Restart wildfly service and access the management URL by logging in with user &ldquo;admin&rdquo; and previously updated password: http://10.0.0.193:9990</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># systemctl restart wildfly</span>
</code></pre></div><p><img src="/static/201912-hawildfly-07.png" alt=""></p>
<p>In the management console you will notice that we are still using the standard topology but we will work on it in the next steps.</p>
<p><img src="/static/201912-hawildfly-08.png" alt=""></p>
<p>Edit the domain.xml file and update the existing groups. The groups must be called &ldquo;marketing&rdquo; and &ldquo;accounting&rdquo; that will use the &ldquo;full-ha&rdquo; profile and &ldquo;full-ha-sockets&rdquo;.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/usr/local/wildfly/wildfly-20.0.0.Final
<span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim master/configuration/domain.xml </span>
</code></pre></div><p>{% highlight xml %}
##around line 1895
<server-groups>
<server-group name="marketing" profile="full-ha">
<jvm name="default">
<heap size="64m" max-size="512m"/>
</jvm>
<socket-binding-group ref="full-ha-sockets"/>
</server-group>
<server-group name="accounting" profile="full-ha">
<jvm name="default">
<heap size="64m" max-size="512m"/>
</jvm>
<socket-binding-group ref="full-ha-sockets"/>
</server-group>
</server-groups>
##suppressed</p>
<pre><code>
Save the domain.xml file.

Edit again the `domain.conf` file and add the configuration file settings for the `JAVA_OPTS` variable:

```shell
##around line 50
[root@server-domain ~]# vi /usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.conf

if [ &quot;x$JAVA_OPTS&quot; = &quot;x&quot; ]; then
   JAVA_OPTS=&quot;-Xms64m -Xmx512m -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true&quot;
   JAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS -Djava.awt.headless=true&quot;
   
   #Edit this line
   JAVA_OPTS=&quot;$JAVA_OPTS -Djboss.bind.address.management=10.0.0.193 -Djboss.bind.address=10.0.0.193 -Djboss.domain.base.dir=/usr/local/wildfly/wildfly-20.0.0.Final/master -Djboss.host.default.config=host-master.xml&quot;
else
##suppressed
</code></pre><p>Restart the wildfly service.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e">#  systemctl restart wildfly</span>
</code></pre></div><p>Note that now a new topology will be presented:</p>
<p><img src="/static/201912-hawildfly-09.png" alt=""></p>
<p>The next step is to create the configuration of &ldquo;Subordinate 0&rdquo; and connect it to &ldquo;Master&rdquo;.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/usr/local/wildfly/wildfly-20.0.0.Final
<span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># cp -Rap domain subordinate0</span>
</code></pre></div><p>Edit the host-slave.xml file. Add subordinate name and update the existing servers. The servers must be called &ldquo;server-marketing-0&rdquo; and &ldquo;server-accounting-0&rdquo;. Servers must belong to their own group: Marketing and Accounting.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim subordinate0/configuration/host-slave.xml </span>
</code></pre></div><p>{% highlight xml %}</p>
<?xml version='1.0' encoding='UTF-8'?>
<p>##around line 3
<host xmlns="urn:jboss:domain:13.0" name="subordinate0">
<extensions>
##suppressed</p>
<pre><code>
{% highlight xml %}
##around line 89
    &lt;servers&gt;
        &lt;server name=&quot;server-marketing-0&quot; group=&quot;marketing&quot;/&gt;
        &lt;server name=&quot;server-accounting-0&quot; group=&quot;accounting&quot;&gt;
            &lt;socket-bindings port-offset=&quot;100&quot;/&gt;
        &lt;/server&gt;
    &lt;/servers&gt;
##suppressed
</code></pre><p>We also have to set the user and &ldquo;secret&rdquo; created in the master so we can connect the &ldquo;Subordinate 0&rdquo;.</p>
<p>In this same host-slave.xml file add the secret and user:</p>
<p>{% highlight xml %}
##around line 13
<security-realms>
<security-realm name="ManagementRealm">
<server-identities>
<secret value="UmVkaGF0KiMy" />
##supress</p>
<pre><code>
{% highlight xml %}
##around line 65
    &lt;domain-controller&gt;
        &lt;remote security-realm=&quot;ManagementRealm&quot; username=&quot;admin&quot;&gt;
            &lt;discovery-options&gt;
                &lt;static-discovery name=&quot;primary&quot; protocol=&quot;${jboss.domain.master.protocol:remote+http}&quot; host=&quot;${jboss.domain.master.address}&quot; port=&quot;${jboss.domain.master.port:9990}&quot;/&gt;
##suppressed
</code></pre><p>Edit again the <code>domain.conf</code> file and add the configuration file settings for the <code>JAVA_OPTS</code> variable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim /usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.conf</span>
<span style="color:#75715e">##around line 50</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;x</span>$JAVA_OPTS<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-Xms64m -Xmx512m -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true&#34;</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.modules.system.pkgs=</span>$JBOSS_MODULES_SYSTEM_PKGS<span style="color:#e6db74"> -Djava.awt.headless=true&#34;</span>

   <span style="color:#75715e">##Add this line</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.domain.base.dir=/usr/local/wildfly/wildfly-20.0.0.Final/subordinate0 -Djboss.host.default.config=host-slave.xml -Djboss.domain.master.address=10.0.0.193 -Djboss.bind.address=10.0.0.194&#34;</span>
<span style="color:#66d9ef">else</span>
<span style="color:#75715e">##suppressed</span>
</code></pre></div><p>Restart the wildfly service:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-0 ~<span style="color:#f92672">]</span><span style="color:#75715e">#  systemctl restart wildfly</span>
</code></pre></div><p>In the &ldquo;Host Master&rdquo; logs you can see the &ldquo;Host subordinate 0&rdquo; connection log.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># tail -f /usr/local/wildfly/wildfly-20.0.0.Final/master/log/host-controller.log</span>
2020-07-06 16:39:04,153 INFO  <span style="color:#f92672">[</span>org.jboss.as.domain.controller<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>Host Controller Service Threads - 24<span style="color:#f92672">)</span> WFLYHC0019: Registered remote slave host <span style="color:#e6db74">&#34;subordinate0&#34;</span>, JBoss WildFly Full 20.0.0.Final <span style="color:#f92672">(</span>WildFly 12.0.1.Final<span style="color:#f92672">)</span>
</code></pre></div><p>Open the management console to see the updated topology: http://10.0.0.193:9990/console</p>
<p><img src="/static/201912-hawildfly-10.png" alt=""></p>
<p>Now perform the same procedure for &ldquo;Subordinate 1&rdquo;.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/usr/local/wildfly/wildfly-20.0.0.Final
<span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># cp -Rap domain subordinate1</span>
</code></pre></div><p>Edit the host-slave.xml file. Add subordinate name and update the existing servers. The servers must be called &ldquo;server-marketing-1&rdquo; and &ldquo;server-accounting-1&rdquo;.  Servers must belong to their own group: Marketing and Accounting.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim subordinate1/configuration/host-slave.xml </span>
</code></pre></div><p>{% highlight xml %}</p>
<?xml version='1.0' encoding='UTF-8'?>
<p>##around line 3
<host xmlns="urn:jboss:domain:13.0" name="subordinate1">
<extensions>
##suppressed</p>
<pre><code>
{% highlight xml %}
##around line 89
    &lt;servers&gt;
        &lt;server name=&quot;server-marketing-1&quot; group=&quot;marketing&quot;/&gt;
        &lt;server name=&quot;server-accounting-1&quot; group=&quot;accounting&quot;&gt;
            &lt;socket-bindings port-offset=&quot;100&quot;/&gt;
        &lt;/server&gt;
    &lt;/servers&gt;
##suppressed
</code></pre><p>We also have to set the user and &ldquo;secret&rdquo; created in the master so we can connect the &ldquo;Subordinate 1&rdquo;.</p>
<p>In this same host-slave.xml file add the secret and user:</p>
<p>{% highlight xml %}
##around line 13
<security-realms>
<security-realm name="ManagementRealm">
<server-identities>
<secret value="UmVkaGF0KiMy" />
##supress</p>
<pre><code>
{% highlight xml %}
##around line 65
    &lt;domain-controller&gt;
        &lt;remote security-realm=&quot;ManagementRealm&quot; username=&quot;admin&quot;&gt;
            &lt;discovery-options&gt;
                &lt;static-discovery name=&quot;primary&quot; protocol=&quot;${jboss.domain.master.protocol:remote+http}&quot; host=&quot;${jboss.domain.master.address}&quot; port=&quot;${jboss.domain.master.port:9990}&quot;/&gt;
##suppressed
</code></pre><p>Edit again the <code>domain.conf</code> file and add the configuration file settings for the <code>JAVA_OPTS</code> variable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim /usr/local/wildfly/wildfly-20.0.0.Final/bin/domain.conf</span>
<span style="color:#75715e">##around line 50</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;x</span>$JAVA_OPTS<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-Xms64m -Xmx512m -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true&#34;</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.modules.system.pkgs=</span>$JBOSS_MODULES_SYSTEM_PKGS<span style="color:#e6db74"> -Djava.awt.headless=true&#34;</span>

   <span style="color:#75715e">##Add this line</span>
   JAVA_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$JAVA_OPTS<span style="color:#e6db74"> -Djboss.domain.base.dir=/usr/local/wildfly/wildfly-20.0.0.Final/subordinate1 -Djboss.host.default.config=host-slave.xml -Djboss.domain.master.address=10.0.0.193 -Djboss.bind.address=10.0.0.195&#34;</span>
<span style="color:#66d9ef">else</span>
<span style="color:#75715e">##suppressed</span>
</code></pre></div><p>Restart the wildfly service:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-subordinate-1 ~<span style="color:#f92672">]</span><span style="color:#75715e">#  systemctl restart wildfly</span>
</code></pre></div><p>In the &ldquo;Host Master&rdquo; logs you can see the &ldquo;Host Subordinate 1&rdquo; connection log.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@server-domain ~<span style="color:#f92672">]</span><span style="color:#75715e"># tail -f /usr/local/wildfly/wildfly-20.0.0.Final/master/log/host-controller.log</span>
2020-07-06 16:48:27,522 INFO  <span style="color:#f92672">[</span>org.jboss.as.domain.controller<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>Host Controller Service Threads - 24<span style="color:#f92672">)</span> WFLYHC0019: Registered remote slave host <span style="color:#e6db74">&#34;subordinate1&#34;</span>, JBoss WildFly Full 20.0.0.Final <span style="color:#f92672">(</span>WildFly 12.0.1.Final<span style="color:#f92672">)</span>
</code></pre></div><p>Open the management console again to see the updated topology: http://10.0.0.193:9990/console</p>
<p><img src="/static/201912-hawildfly-11.gif" alt=""></p>
<p>It is! Now we have our topology with One Host Master, Two Host Subordinates and Four WildFly Instances.</p>
<p>In the next part we will finally connect this to Mod Cluster and deploy our application.</p>
      </div>
      
      
      <div class="pt-4 mt-2 border-top">
        <div class="row">
          <div class="col-md-7 small text-muted post-meta my-1">
            
            
              
            
              
            
              
            
              
            </div>
          
          
          
        </div>
      
        
          <div class="mt-3">
            <span class="">Tags:</span>&nbsp;&nbsp;&nbsp;<a href="/tags/jboss"><span class="badge badge-pill bg-clr2 text-nav mr-2 py-2">JBOSS</span></a><a href="/tags/wildfly"><span class="badge badge-pill bg-clr2 text-nav mr-2 py-2">WILDFLY</span></a><a href="/tags/ha"><span class="badge badge-pill bg-clr2 text-nav mr-2 py-2">HA</span></a><a href="/tags/redhat"><span class="badge badge-pill bg-clr2 text-nav mr-2 py-2">REDHAT</span></a><a href="/tags/centos"><span class="badge badge-pill bg-clr2 text-nav mr-2 py-2">CENTOS</span></a><a href="/tags/modcluster"><span class="badge badge-pill bg-clr2 text-nav mr-2 py-2">MODCLUSTER</span></a></div>
        
      
      </div>
      
    </div>
  </div>
  
  
  
</div>

    </div><footer class="text-center p-2 text-muted footer">
  
  
  <div class="py-2 lead">
    
    
    <a class="ml-2" href="https://github.com/cognitionsh"><span class="fab fa-github"
        aria-label="Join us on Github"></span></a>
    
    
  </div>
  
  

  <div class="py-2 lead">
    Cognition by Mauricio Magnani
  </div>

  <div class="py-2 copyright">
    
  </div>
</footer>
    
    
    
    <script src="/assets/js/main.min.6ff0d57b7558f0225c80bade926a349330bc25d85e7ceff50d911f1156023c3e.js" integrity="sha256-b/DVe3VY8CJcgLrekmo0kzC8JdhefO/1DZEfEVYCPD4=" crossorigin="anonymous"></script>
    <script src="/assets/js/custom.min.c8274a0cac0477f854e63f09626cc63858bb2bc9db8faecbb2834846952c7fd6.js" integrity="sha256-yCdKDKwEd/hU5j8JYmzGOFi7K8nbj67LsoNIRpUsf9Y=" crossorigin="anonymous"></script>
    
    <link href="https://fonts.googleapis.com/css?family=Roboto|Lato&display=swap" rel="stylesheet">
    
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
  </body>
</html>
